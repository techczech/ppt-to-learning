<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Content</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; height: 100vh; margin: 0; color: #333; }
        #sidebar { width: 300px; background: #f8f9fa; border-right: 1px solid #dee2e6; display: flex; flex-direction: column; }
        #sidebar-header { padding: 20px; background: #fff; border-bottom: 1px solid #dee2e6; }
        #sidebar-header h2 { margin: 0; font-size: 1.2rem; }
        #nav-links { flex: 1; overflow-y: auto; padding: 10px 0; }
        
        #content { flex: 1; padding: 50px; overflow-y: auto; background: #fff; max-width: 900px; margin: 0 auto; }
        
        .slide-link { display: block; padding: 12px 20px; cursor: pointer; color: #495057; text-decoration: none; transition: background 0.2s; font-size: 0.95rem; }
        .slide-link:hover { background: #e9ecef; }
        .slide-link.active { font-weight: 600; background: #e9ecef; color: #0d6efd; border-left: 4px solid #0d6efd; }
        
        h1 { color: #212529; border-bottom: 2px solid #0d6efd; padding-bottom: 10px; margin-bottom: 30px; }
        p { line-height: 1.6; margin-bottom: 1.5rem; font-size: 1.1rem; }
        
        .notes { background: #fff3cd; color: #856404; padding: 20px; border-radius: 5px; border-left: 5px solid #ffecb5; margin-top: 40px; }
        .notes strong { display: block; margin-bottom: 10px; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; }
        
        img { max-width: 100%; height: auto; margin: 20px 0; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <div id="sidebar">
        <div id="sidebar-header">
            <h2>Course Modules</h2>
        </div>
        <div id="nav-links"></div>
    </div>
    <div id="content">
        <div id="slide-container"></div>
    </div>

    <script>
        let slides = [];
        
        async function loadData() {
            try {
                const response = await fetch('data.json');
                slides = await response.json();
                renderNav();
                loadSlide(0);
            } catch (e) {
                document.getElementById('content').innerHTML = "Error loading data.json. Make sure you are running this via a local server (e.g., python -m http.server) to avoid CORS issues.";
            }
        }

        function renderNav() {
            const nav = document.getElementById('nav-links');
            slides.forEach((slide, index) => {
                const div = document.createElement('div');
                div.className = 'slide-link';
                div.innerText = slide.title || `Slide ${index + 1}`;
                div.onclick = () => loadSlide(index);
                nav.appendChild(div);
            });
        }

        function loadSlide(index) {
            const container = document.getElementById('slide-container');
            const slide = slides[index];
            
            // Highlight nav
            document.querySelectorAll('.slide-link').forEach((el, i) => {
                el.classList.toggle('active', i === index);
            });

            let html = `<h1>${slide.title}</h1>`;
            
            // Body Text
            slide.body.forEach(text => {
                html += `<p>${text.replace(/\\n/g, '<br>')}</p>`;
            });

            // Images
            slide.images.forEach(src => {
                html += `<img src="${src}" alt="Slide Image">`;
            });

            // Notes
            if (slide.notes) {
                html += `<div class="notes"><strong>Instructor Note</strong>${slide.notes.replace(/\\n/g, '<br>')}</div>`;
            }

            container.innerHTML = html;
        }

        loadData();
    </script>
</body>
</html>
